##############################################
#              PICOM CONFIG                 #
#       Cleaned & Organized by ChatGPT      #
##############################################

######################################
#             OPACITY                #
######################################

# Opacidade padrão das janelas (opcional)
# Essas regras personalizam opacidade por janela
rules = (
  { match = "class_g = 'Thunar'"; opacity = 0.95; },
  { match = "window_type *= 'popup_menu'"; opacity = 0.75; },
  { match = "window_type *= 'dropdown_menu'"; opacity = 0.75; },
  { match = "window_type *= 'tooltip'"; opacity = 0.6; }
);

######################################
#           ROUNDED CORNERS          #
######################################
# Desabilitado para manter cantos retos
# corner-radius = 15;
# rounded-corners-exclude = [ "class_g = 'Dunst'" ];

######################################
#              BLUR                  #
######################################
blur = {
  method = "dual_kawase";
  size = 10;
  strength = 3;
};
blur-background-fixed = true;

# Aplica blur em terminais específicos
rules += (
  { match = "class_g = 'Alacritty'"; blur-background = true; },
  { match = "class_g = 'kitty'"; blur-background = true; },
  { match = "class_g = 'wezterm'"; blur-background = true; }
);

# Exclui blur em overlays
rules += (
  { match = "name *= 'rect-overlay'"; blur-background = false; },
  { match = "class_g = 'popup_menu'"; blur-background = false; },
  { match = "class_g = 'dropdown_menu'"; blur-background = false; },
  { match = "class_g = 'Tandem'"; blur-background = false; }
);

######################################
#             SHADOWS                #
######################################
shadow = false;
shadow-radius = 1;
shadow-opacity = 0.1;
shadow-offset-x = 0;
shadow-offset-y = 0;

######################################
#             FADING                 #
######################################
fading = false;
fade-in-step = 0.03;
fade-out-step = 0.03;
fade-delta = 3;

######################################
#           OTHER SETTINGS           #
######################################
backend = "glx";
vsync = false;
use-damage = true;
unredir-if-possible = true;
detect-client-opacity = true;
detect-transient = true;
use-ewmh-active-win = true;
glx-no-stencil = true;
dithered-present = false;
log-level = "warn";

######################################
#          EXECUTION NOTES           #
######################################
# Inicie com:
# picom --config ~/.config/picom/picom.conf --experimental-backends --backend glx &

